{% extends "digital-land-frontend/dlf-base.html" %}
{%- from "digital-land-frontend/components/map/macro.html" import dlMap %}

{% block head %}
{{ super() }}
<!-- include css and js for LeafletJS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
  integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
  crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
  integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
  crossorigin=""></script>


<script src="{{ staticPath|default('/static') }}/javascripts/dl-maps.js"></script>

{% endblock  %}

{% block content %}
{{ dlMap({
    "id": "aMap",
    "classes": "govuk-!-margin-top-1 govuk-!-margin-bottom-2",
    "attributes": {
        "data-geojson-urls": "geometry.geojson"
    }
}) }}
{% endblock content %}

{% block bodyEnd %}
{{ super() }}
<script>
    const $mapElement = document.querySelector('[data-module="boundary-map"]')
    new DLMaps.Map($mapElement).init({})
</script>
{% endblock %}